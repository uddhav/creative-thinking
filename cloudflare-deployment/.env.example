# Creative Thinking MCP Server - Environment Configuration
# Copy this file to .env for local development

# =============================================================================
# Core Settings
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=debug

# =============================================================================
# OAuth Authentication (Optional)
# =============================================================================
# Enable/disable OAuth authentication
OAUTH_ENABLED=false
OAUTH_REQUIRED=false  # If true, all requests require authentication

# OAuth Provider Configuration
OAUTH_PROVIDER=github  # Options: github, google, custom
OAUTH_REDIRECT_URI=http://localhost:8787/oauth/callback

# OAuth Secrets (set via wrangler secret put in production)
OAUTH_CLIENT_ID=your_github_client_id
OAUTH_CLIENT_SECRET=your_github_client_secret

# Custom OAuth Provider (when OAUTH_PROVIDER=custom)
# OAUTH_AUTHORIZE_URL=https://your-provider.com/oauth/authorize
# OAUTH_TOKEN_URL=https://your-provider.com/oauth/token
# OAUTH_USER_INFO_URL=https://your-provider.com/api/user
# OAUTH_SCOPE=read:user user:email

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=false  # Disabled in development
RATE_LIMIT_ANONYMOUS=30   # Requests per minute for anonymous users
RATE_LIMIT_AUTHENTICATED=100  # Requests per minute for authenticated users

# =============================================================================
# Performance Monitoring
# =============================================================================
PERFORMANCE_MONITORING=true
METRICS_SAMPLE_RATE=1.0  # Sample rate for performance metrics (0.0-1.0)

# =============================================================================
# GitHub OAuth Setup Instructions
# =============================================================================
# 1. Go to GitHub Developer Settings: https://github.com/settings/developers
# 2. Create a new OAuth App with these settings:
#    - Application name: Creative Thinking MCP Server (Dev)
#    - Homepage URL: http://localhost:8787
#    - Authorization callback URL: http://localhost:8787/oauth/callback
# 3. Copy the Client ID and Client Secret to the variables above
# 4. For production, use the production callback URL:
#    https://creative-thinking-mcp.mbfw8r4d6n.workers.dev/oauth/callback

# =============================================================================
# Google OAuth Setup Instructions
# =============================================================================
# 1. Go to Google Cloud Console: https://console.cloud.google.com/
# 2. Create a new project or select an existing one
# 3. Enable the Google+ API
# 4. Go to Credentials and create an OAuth 2.0 Client ID
# 5. Configure these settings:
#    - Application type: Web application
#    - Authorized redirect URIs: 
#      - http://localhost:8787/oauth/callback (for development)
#      - https://creative-thinking-mcp.mbfw8r4d6n.workers.dev/oauth/callback (for production)
# 6. Copy the Client ID and Client Secret
# 7. Set OAUTH_PROVIDER=google

# =============================================================================
# Deployment Commands
# =============================================================================
# Development:
# npm run dev

# Set OAuth secrets for production:
# wrangler secret put OAUTH_CLIENT_ID
# wrangler secret put OAUTH_CLIENT_SECRET

# Deploy to Cloudflare Workers:
# npm run deploy

# Enable OAuth in production:
# wrangler env update --var OAUTH_ENABLED=true
# wrangler env update --var OAUTH_REQUIRED=false  # or true if required